## 1. 配置与入口准备

- [x] 1.1 梳理现有 USTC/CIC 配置键与数据集注册点，明确 MFCP 复用与扩展位置
- [x] 1.2 新增 MFCP 数据与训练配置（数据路径、类别映射、输出标识），并保持旧配置默认值不变
- [x] 1.3 在预处理与训练入口增加 `mfcp` 选项及参数校验逻辑

## 2. MFCP 数据预处理实现

- [x] 2.1 实现 MFCP 原始数据扫描与 Train/Test、类别映射
- [x] 2.2 实现序列样本导出，写入 `dataset/mfcp/pcap_data/{Train,Test}/<class>/*.bin`
- [x] 2.3 实现图像样本导出，写入 `dataset/mfcp/image_data/{Train,Test}/<class>/*.png`
- [x] 2.4 增加 RGB 三通道校验与 split/类别样本统计日志输出
- [x] 2.5 增加路径保护检查，确保 MFCP 预处理不会修改 USTC/CIC 既有产物
- [x] 2.6 复用既有数据集索引缓存逻辑，在首次读取 MFCP 数据后落盘索引文件
- [x] 2.7 实现索引有效性校验与失效自动重建逻辑（源数据变更时触发重扫）
- [x] 2.8 在 PCAP 解析中增加“尾部截断容错”逻辑，避免因最后一个不完整记录导致整文件样本丢失

## 3. MFCP 训练与验证实现

- [x] 3.1 扩展数据加载与训练配置解析，保证 `mfcp` 仅加载 `dataset/mfcp` 数据
- [x] 3.2 接入 MFCP 的训练循环与验证循环，复用现有融合模型与评估逻辑
- [x] 3.3 生成并保存 MFCP 的训练日志、指标曲线、混淆矩阵与评估报告到 `outputs/`
- [x] 3.4 统一输出命名并包含数据集标识，便于区分 MFCP 与 USTC/CIC 运行结果

## 4. 回归与验收

- [x] 4.1 执行一次 MFCP 预处理并核验目录结构与文件格式符合规范
- [x] 4.2 执行一次 MFCP 训练/验证（可使用短轮次）并核验四类评估产物生成
- [x] 4.3 回归执行 USTC 与 CIC 既有命令，确认数据路径与输出结构不变
- [x] 4.4 汇总验证结果与遗留风险，记录到变更说明中
- [x] 4.5 连续执行两次 MFCP 读取流程，确认第二次命中索引并跳过全量扫描
- [x] 4.6 人为变更一部分源数据后再次读取，确认索引失效重建可用
- [x] 4.7 使用尾部残缺的 `Cobalt.pcap` 回归验证，确认可保留前序可解析包并成功产出 Cobalt 目录样本

## 5. 文档更新

- [x] 5.1 更新 `README.md`，补充 MFCP 预处理命令
- [x] 5.2 更新 `README.md`，补充 MFCP 训练与验证命令
- [x] 5.3 按 README 命令进行可执行性检查并修正说明
